const _0x1d5ea9=_0x1d85;(function(_0x1844b6,_0x2af243){const _0x43b217=_0x1d85,_0x3ae3e5=_0x1844b6();while(!![]){try{const _0x5150d7=-parseInt(_0x43b217(0xed))/0x1*(parseInt(_0x43b217(0xcd))/0x2)+parseInt(_0x43b217(0xf5))/0x3*(parseInt(_0x43b217(0xd3))/0x4)+parseInt(_0x43b217(0xe5))/0x5+parseInt(_0x43b217(0xe2))/0x6*(parseInt(_0x43b217(0xf4))/0x7)+parseInt(_0x43b217(0xfa))/0x8*(parseInt(_0x43b217(0xf9))/0x9)+-parseInt(_0x43b217(0xc5))/0xa*(parseInt(_0x43b217(0xd8))/0xb)+-parseInt(_0x43b217(0xf7))/0xc;if(_0x5150d7===_0x2af243)break;else _0x3ae3e5['push'](_0x3ae3e5['shift']());}catch(_0x495bf8){_0x3ae3e5['push'](_0x3ae3e5['shift']());}}}(_0x2dfd,0xb923e));function _0x2dfd(){const _0x185e54=['slash_ui','202bIgDcw','Unexpected\x20response\x20for\x20interaction\x20#','getHeaders','trim','Sending\x20#','1274236506441121903','283256RKvhfn','data','open','filter','axios','11oHxBtF','Error\x20reading\x20prompts.txt:','\x20interaction\x20for\x20prompt:\x20\x22','status','prompt','retry_after','exit','1313891782106284032','Message\x20received:','log','61842EgghPG','append','response','6384860FFVveE','seed','send','form-data','https://discord.com/api/v9/interactions','close','AUTH_TOKEN','readFileSync','10509kchGzt','generate','length','error','Waiting\x20for\x202\x20minutes\x20before\x20the\x20next\x20interaction...','WebSocket\x20connection\x20closed.\x20Attempting\x20to\x20reconnect...','034a2ac94c44a1c4091f102b43050093','7IBalZc','39fCiaOq','stringify','5034180HanKjG','Generate\x20imagery\x20using\x20Oasis\x27\x20image\x20generation\x20model.','97479NCXaFh','920RvMhaN','message','Error\x20sending\x20interaction\x20#','12141680AYqxHW','split','\x0a██████\x20\x20███████\x20███████\x20██\x20\x20\x20\x20\x20\x20█████\x20\x20██\x20\x20\x20\x20\x20\x20\x20██████\x20██\x20\x20\x20██\x20███████\x20███\x20\x20\x20\x20███\x20██\x20███████\x20████████\x20\x0a██\x20\x20\x20██\x20██\x20\x20\x20\x20\x20\x20██\x20\x20\x20\x20\x20\x20██\x20\x20\x20\x20\x20██\x20\x20\x20██\x20██\x20\x20\x20\x20\x20\x20██\x20\x20\x20\x20\x20\x20██\x20\x20\x20██\x20██\x20\x20\x20\x20\x20\x20████\x20\x20████\x20██\x20██\x20\x20\x20\x20\x20\x20\x20\x20\x20██\x20\x20\x20\x20\x0a██\x20\x20\x20██\x20█████\x20\x20\x20█████\x20\x20\x20██\x20\x20\x20\x20\x20███████\x20██\x20\x20\x20\x20\x20\x20██\x20\x20\x20\x20\x20\x20███████\x20█████\x20\x20\x20██\x20████\x20██\x20██\x20███████\x20\x20\x20\x20██\x20\x20\x20\x20\x0a██\x20\x20\x20██\x20██\x20\x20\x20\x20\x20\x20██\x20\x20\x20\x20\x20\x20██\x20\x20\x20\x20\x20██\x20\x20\x20██\x20██\x20\x20\x20\x20\x20\x20██\x20\x20\x20\x20\x20\x20██\x20\x20\x20██\x20██\x20\x20\x20\x20\x20\x20██\x20\x20██\x20\x20██\x20██\x20\x20\x20\x20\x20\x20██\x20\x20\x20\x20██\x20\x20\x20\x20\x0a██████\x20\x20███████\x20██\x20\x20\x20\x20\x20\x20██\x20\x20\x20\x20\x20██\x20\x20\x20██\x20███████\x20\x20██████\x20██\x20\x20\x20██\x20███████\x20██\x20\x20\x20\x20\x20\x20██\x20██\x20███████\x20\x20\x20\x20██\x20\x20\x20\x0a\x0aFollow\x20on\x20Twitter\x20::\x20\x20\x20https://x.com/DefiAlchemistry/\x20\x0a','env','1302916090040422491','Rate\x20limited.\x20Retrying\x20after\x20','Interaction\x20sent'];_0x2dfd=function(){return _0x185e54;};return _0x2dfd();}const WebSocket=require('ws'),axios=require(_0x1d5ea9(0xd7)),FormData=require(_0x1d5ea9(0xe8)),fs=require('fs');function _0x1d85(_0x11dac7,_0x9d070c){const _0x2dfd0b=_0x2dfd();return _0x1d85=function(_0x1d8542,_0x564542){_0x1d8542=_0x1d8542-0xc5;let _0x49497d=_0x2dfd0b[_0x1d8542];return _0x49497d;},_0x1d85(_0x11dac7,_0x9d070c);}require('dotenv')['config']();const logo=_0x1d5ea9(0xc7);console['log'](logo);const DISCORD_API_URL=_0x1d5ea9(0xe9),AUTH_TOKEN=process[_0x1d5ea9(0xc8)][_0x1d5ea9(0xeb)],APPLICATION_ID='1238009056451498024',CHANNEL_ID=_0x1d5ea9(0xc9),SESSION_ID=_0x1d5ea9(0xf3),DATA_VERSION=_0x1d5ea9(0xd2),COMMAND_ID='1260352671240425564',NONCE=_0x1d5ea9(0xdf),channelUrl='wss://gateway.discord.gg/?v=9&encoding=json',authToken=AUTH_TOKEN;let ws,prompts=[],currentPromptIndex=0x0,interactionNumber=0x1,heartbeatInterval;function loadPrompts(){const _0x4f709b=_0x1d5ea9;try{const _0x27907d=fs[_0x4f709b(0xec)]('prompts.txt','utf-8');prompts=_0x27907d[_0x4f709b(0xc6)]('\x0a')[_0x4f709b(0xd6)](_0x55b063=>_0x55b063[_0x4f709b(0xd0)]()[_0x4f709b(0xef)]>0x0);if(prompts[_0x4f709b(0xef)]===0x0)throw new Error('prompts.txt\x20is\x20empty.');}catch(_0x28c4a3){console[_0x4f709b(0xf0)](_0x4f709b(0xd9),_0x28c4a3[_0x4f709b(0xfb)]),process[_0x4f709b(0xde)](0x1);}}function getNextPrompt(){const _0x26f943=_0x1d5ea9,_0x3680dd=prompts[currentPromptIndex];return currentPromptIndex++,currentPromptIndex>=prompts[_0x26f943(0xef)]&&(currentPromptIndex=0x0),_0x3680dd;}async function sendInteraction(_0x5d2405){const _0x2bac5f=_0x1d5ea9,_0x574e1f=new FormData(),_0x54b0b6={'type':0x2,'application_id':APPLICATION_ID,'channel_id':CHANNEL_ID,'session_id':SESSION_ID,'data':{'version':DATA_VERSION,'id':COMMAND_ID,'name':_0x2bac5f(0xee),'type':0x1,'options':[{'type':0x3,'name':_0x2bac5f(0xdc),'value':_0x5d2405}],'application_command':{'id':COMMAND_ID,'type':0x1,'application_id':APPLICATION_ID,'version':DATA_VERSION,'name':'generate','description':_0x2bac5f(0xf8),'options':[{'type':0x3,'name':_0x2bac5f(0xdc),'description':'The\x20prompt\x20to\x20use','required':!![]},{'type':0x4,'name':_0x2bac5f(0xe6),'description':'Used\x20to\x20limit\x20randomness.','required':![]},{'type':0x4,'name':'guidance-scale','description':'Used\x20to\x20determine\x20how\x20close\x20output\x20is\x20to\x20prompt.','required':![]}]},'attachments':[]},'nonce':NONCE,'analytics_location':_0x2bac5f(0xcc)};_0x574e1f[_0x2bac5f(0xe3)]('payload_json',JSON['stringify'](_0x54b0b6));try{const _0x42a4ec=await axios['post'](DISCORD_API_URL,_0x574e1f,{'headers':{..._0x574e1f[_0x2bac5f(0xcf)](),'Authorization':AUTH_TOKEN}});_0x42a4ec['status']===0xcc?console[_0x2bac5f(0xe1)](_0x2bac5f(0xcb)):console[_0x2bac5f(0xe1)](_0x2bac5f(0xce)+interactionNumber+':',_0x42a4ec[_0x2bac5f(0xdb)]);}catch(_0x2b6453){if(_0x2b6453['response']&&_0x2b6453[_0x2bac5f(0xe4)]['data']&&_0x2b6453['response'][_0x2bac5f(0xd4)][_0x2bac5f(0xdd)]){const _0x316081=_0x2b6453['response'][_0x2bac5f(0xd4)][_0x2bac5f(0xdd)]*0x3e8;console[_0x2bac5f(0xf0)](_0x2bac5f(0xca)+_0x316081/0x3e8+'\x20seconds.'),await new Promise(_0x3f7480=>setTimeout(_0x3f7480,_0x316081));}else console[_0x2bac5f(0xf0)](_0x2bac5f(0xfc)+interactionNumber+':',_0x2b6453[_0x2bac5f(0xe4)]?_0x2b6453[_0x2bac5f(0xe4)]['data']:_0x2b6453[_0x2bac5f(0xfb)]);}}async function startInteractionLoop(){const _0xc01647=_0x1d5ea9;loadPrompts();while(!![]){const _0x558059=getNextPrompt();console[_0xc01647(0xe1)](_0xc01647(0xd1)+interactionNumber+_0xc01647(0xda)+_0x558059+'\x22'),await sendInteraction(_0x558059),console[_0xc01647(0xe1)](_0xc01647(0xf1)),interactionNumber++,await new Promise(_0x206149=>setTimeout(_0x206149,0x2*0x3c*0x3e8));}}function connectWebSocket(){const _0x37edd0=_0x1d5ea9;ws=new WebSocket(channelUrl,{'headers':{'Authorization':authToken}}),ws['on'](_0x37edd0(0xd5),()=>{const _0x332299=_0x37edd0;console[_0x332299(0xe1)]('WebSocket\x20connection\x20established.'),startInteractionLoop(),heartbeatInterval=setInterval(()=>{const _0x5a6286=_0x332299;ws[_0x5a6286(0xe7)](JSON[_0x5a6286(0xf6)]({'op':0x1,'d':null}));},0x7530);}),ws['on'](_0x37edd0(0xfb),_0x2114bb=>{const _0x36ad9e=_0x37edd0;console[_0x36ad9e(0xe1)](_0x36ad9e(0xe0),_0x2114bb);}),ws['on'](_0x37edd0(0xf0),_0x49ee2b=>{const _0x145502=_0x37edd0;console[_0x145502(0xf0)]('WebSocket\x20error:',_0x49ee2b);}),ws['on'](_0x37edd0(0xea),()=>{const _0x968da2=_0x37edd0;console['log'](_0x968da2(0xf2)),clearInterval(heartbeatInterval),setTimeout(connectWebSocket,0x1388);});}connectWebSocket();
